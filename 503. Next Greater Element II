class Solution {
    public:
        vector<int> nextGreaterElements(vector<int>& nums) {
            int n = nums.size();
            stack<int> stk;
            vector<int> ans(n);
            for(int i=0;i<n;i++){
                if(stk.empty()){
                    stk.push(i);
                    continue;
                }
                while(nums[stk.top()]<nums[i]){
                    ans[stk.top()] = nums[i];
                    stk.pop();
                    if(stk.empty()){
                        break;
                    }
                }
                stk.push(i);
            }
            int i = 0;
            while(!stk.empty()){
                if(i==n){
                    ans[stk.top()] = -1;
                    stk.pop();
                    continue;
                }
                if(nums[i]>nums[stk.top()]){
                    ans[stk.top()] = nums[i];
                    stk.pop();
                }
                else{
                    i++;
                }
            }
            return ans;
        }
    };
